# Files：前端 Files 页（移动端优先）

目标：
- 在 Web UI 内提供一个独立的“文件”页，用于浏览当前 workspace
- 支持文本/Markdown 预览与编辑保存（写入需要 `ADMIN_TOKEN`）
- 支持图片预览（通过后端 blob 接口），并且移动端不溢出、可滚动

## 主要交互

- 左侧（移动端为上方）：目录面包屑 + 搜索 + 文件/目录列表
- 右侧（移动端为下方）：预览区
  - 图片：直接显示
  - 文本：textarea 编辑，`Ctrl/⌘+S` 保存，Reload 重新加载
  - 大文件截断：为了避免“用截断内容覆盖全文件”，禁用保存并提示原因

## 权限策略（与后端一致）

- 无 token：只读（保存按钮禁用），并且后端不返回隐藏文件
- 有 token：可见隐藏文件，并可保存文本/Markdown（受 `READ_ONLY_MODE` 约束）

## 细节

- 离开 Files 页/切换 workspace/切换文件时，如有未保存修改会弹出确认，避免误丢内容
- 图片预览使用 `fetch + Blob + objectURL`，避免把 token 放进 `<img src>` URL

